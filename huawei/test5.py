"""
æœ€æ–°åä¸ºODæœºè¯•
çœŸé¢˜ç›®å½•ï¼šç‚¹å‡»æŸ¥çœ‹ç›®å½• åä¸ºODé¢è¯•çœŸé¢˜ç²¾é€‰ï¼šç‚¹å‡»ç«‹å³æŸ¥çœ‹

é¢˜ç›®æè¿°
æŸä¸ªæ‰“å°æœºæ ¹æ®æ‰“å°é˜Ÿåˆ—æ‰§è¡Œæ‰“å°ä»»åŠ¡ã€‚æ‰“å°ä»»åŠ¡åˆ†ä¸ºä¹ä¸ªä¼˜å…ˆçº§ï¼Œåˆ†åˆ«ç”¨æ•°å­—1-9è¡¨ç¤ºï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚æ‰“å°æœºæ¯æ¬¡ä»é˜Ÿåˆ—å¤´éƒ¨å–å‡ºç¬¬ä¸€ä¸ªä»»åŠ¡Aï¼Œ

ç„¶åæ£€æŸ¥é˜Ÿåˆ—ä½™ä¸‹ä»»åŠ¡ä¸­æœ‰æ²¡æœ‰æ¯”Aä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰æ¯”Aä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡ï¼Œåˆ™å°†ä»»åŠ¡Aæ”¾åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼Œå¦åˆ™å°±æ‰§è¡Œä»»åŠ¡Açš„æ‰“å°ã€‚

è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ ¹æ®è¾“å…¥çš„æ‰“å°é˜Ÿåˆ—ï¼Œè¾“å‡ºå®é™…çš„æ‰“å°é¡ºåºã€‚

è¾“å…¥æè¿°
è¾“å…¥ä¸€è¡Œï¼Œä¸ºæ¯ä¸ªä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œä¼˜å…ˆçº§å–å€¼èŒƒå›´æ˜¯1~9ã€‚

è¾“å‡ºæè¿°
è¾“å‡ºä¸€è¡Œï¼Œä¸ºæ¯ä¸ªä»»åŠ¡çš„æ‰“å°é¡ºåºï¼Œæ‰“å°é¡ºåºä»0å¼€å§‹ï¼Œç”¨é€—å·éš”å¼€

ç¤ºä¾‹1
è¾“å…¥

9,3,5
è¾“å‡º

0,2,1
è¯´æ˜

é˜Ÿåˆ—å¤´éƒ¨ä»»åŠ¡çš„ä¼˜å…ˆçº§ä¸º9ï¼Œæœ€å…ˆæ‰“å°ï¼Œæ•…åºå·ä¸º0ï¼› æ¥ç€é˜Ÿåˆ—å¤´éƒ¨ä»»åŠ¡ä¼˜å…ˆçº§ä¸º3ï¼Œé˜Ÿåˆ—ä¸­è¿˜æœ‰ä¼˜å…ˆçº§ä¸º5çš„ä»»åŠ¡ï¼Œä¼˜å…ˆçº§3ä»»åŠ¡è¢«ç§»åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼› æ¥ç€æ‰“å°ä¼˜å…ˆçº§ä¸º5çš„ä»»åŠ¡ï¼Œæ•…å…¶åºå·ä¸º1ï¼› æœ€åä¼˜å…ˆçº§ä¸º3çš„ä»»åŠ¡çš„åºå·ä¸º2ã€‚

"""

from auto_test import run_test_cases
from collections import deque

def main():
    priorities = input().strip().split(',') # [1,2,2]
    
    queue = deque()
    for idx, priority in enumerate(priorities):
        queue.append((priority, idx))
    
    order = [0] * len(priorities)
    cur_order = 0
    
    while queue:
        cur = queue.popleft()
        # æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ¯”å½“å‰æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡
        has_higher = any(item[0] > cur[0] for item in queue)
        if has_higher:
            queue.append(cur)
        else:
            order[cur[1]] = cur_order
            cur_order += 1
    print(order, '>??')
    print(','.join(map(str,order)))






if __name__ == "__main__":
    TEST_CASES = [
        {
            "input": "9,3,5",
            "expected_output": "0,2,1"
        },
        {
            "input": "1,2,2",
            "expected_output": "2,0,1"
        },


        
    ]

    # === è‡ªåŠ¨æµ‹è¯•éƒ¨åˆ† ===
    print("ğŸ” æ­£åœ¨è¿è¡Œé¢„å®šä¹‰æµ‹è¯•ç”¨ä¾‹...")
    run_test_cases(main, TEST_CASES)

    # === æ‰‹åŠ¨äº¤äº’æ¨¡å¼ ===
    print("\nğŸ”„ è‡ªåŠ¨æµ‹è¯•å·²å®Œæˆã€‚")
    print("ğŸ® ç°åœ¨è¿›å…¥äº¤äº’æ¨¡å¼ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥æ•°æ®è¿è¡Œç¨‹åºï¼ˆè¾“å…¥ Ctrl+C å¯éšæ—¶é€€å‡ºï¼‰ã€‚\n")

    while True:
        try:
            main()
            print('=' * 20)
        except Exception as e:
            print(f'Error: {e}')
            print('=' * 20)

